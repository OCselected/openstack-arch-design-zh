<?xml version="1.0" ?><section version="5.0" xml:id="keystone-conf-changes-kilo" xml:lang="zh" xmlns="http://docbook.org/ns/docbook">
  <!-- Warning: Do not edit this file. It is automatically generated and your changes will be overwritten. The tool to do so lives in the openstack-doc-tools repository. -->
  <title>New, updated and deprecated options in Kilo for OpenStack Identity</title>
  <table>
    <caption>New options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Option = default value</td>
        <td>(Type) Help string</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] max_project_tree_depth = 5</td>
      <td>(IntOpt) Maximum depth of the project hierarchy. WARNING: setting it to a large value may adversely impact performance.</td>
    </tr>
    <tr>
      <td>[DEFAULT] notification_format = basic</td>
      <td>(StrOpt) Define the notification format for Identity Service events. A &quot;basic&quot; notification has information about the resource being operated on. A &quot;cadf&quot; notification has the same information, as well as information about the initiator of the event. Valid options are: basic and cadf</td>
    </tr>
    <tr>
      <td>[DEFAULT] policy_dirs = ['policy.d']</td>
      <td>(MultiStrOpt) Directories where policy configuration files are stored. They can be relative to any directory in the search path defined by the config_dir option, or absolute paths. The file defined by policy_file must exist for these directories to be searched.</td>
    </tr>
    <tr>
      <td>[DEFAULT] secure_proxy_ssl_header = None</td>
      <td>(StrOpt) The HTTP header used to determine the scheme for the original request, even if it was removed by an SSL terminating proxy. Typical value is &quot;HTTP_X_FORWARDED_PROTO&quot;.</td>
    </tr>
    <tr>
      <td>[eventlet_server] admin_bind_host = 0.0.0.0</td>
      <td>(StrOpt) The IP address of the network interface for the admin service to listen on.</td>
    </tr>
    <tr>
      <td>[eventlet_server] admin_port = 35357</td>
      <td>(IntOpt) The port number which the admin service listens on.</td>
    </tr>
    <tr>
      <td>[eventlet_server] admin_workers = None</td>
      <td>(IntOpt) The number of worker processes to serve the admin eventlet application. Defaults to number of CPUs (minimum of 2).</td>
    </tr>
    <tr>
      <td>[eventlet_server] public_bind_host = 0.0.0.0</td>
      <td>(StrOpt) The IP address of the network interface for the public service to listen on.</td>
    </tr>
    <tr>
      <td>[eventlet_server] public_port = 5000</td>
      <td>(IntOpt) The port number which the public service listens on.</td>
    </tr>
    <tr>
      <td>[eventlet_server] public_workers = None</td>
      <td>(IntOpt) The number of worker processes to serve the public eventlet application. Defaults to number of CPUs (minimum of 2).</td>
    </tr>
    <tr>
      <td>[eventlet_server] tcp_keepalive = False</td>
      <td>(BoolOpt) Set this to true if you want to enable TCP_KEEPALIVE on server sockets, i.e. sockets used by the Keystone wsgi server for client connections.</td>
    </tr>
    <tr>
      <td>[eventlet_server] tcp_keepidle = 600</td>
      <td>(IntOpt) Sets the value of TCP_KEEPIDLE in seconds for each server socket. Only applies if tcp_keepalive is true.</td>
    </tr>
    <tr>
      <td>[eventlet_server_ssl] ca_certs = /etc/keystone/ssl/certs/ca.pem</td>
      <td>(StrOpt) Path of the CA cert file for SSL.</td>
    </tr>
    <tr>
      <td>[eventlet_server_ssl] cert_required = False</td>
      <td>(BoolOpt) Require client certificate.</td>
    </tr>
    <tr>
      <td>[eventlet_server_ssl] certfile = /etc/keystone/ssl/certs/keystone.pem</td>
      <td>(StrOpt) Path of the certfile for SSL. For non-production environments, you may be interested in using `keystone-manage ssl_setup` to generate self-signed certificates.</td>
    </tr>
    <tr>
      <td>[eventlet_server_ssl] enable = False</td>
      <td>(BoolOpt) Toggle for SSL support on the Keystone eventlet servers.</td>
    </tr>
    <tr>
      <td>[eventlet_server_ssl] keyfile = /etc/keystone/ssl/private/keystonekey.pem</td>
      <td>(StrOpt) Path of the keyfile for SSL.</td>
    </tr>
    <tr>
      <td>[federation] federated_domain_name = Federated</td>
      <td>(StrOpt) A domain name that is reserved to allow federated ephemeral users to have a domain concept. Note that an admin will not be able to create a domain with this name or update an existing domain to this name. You are not advised to change this value unless you really have to. Changing this option to empty string or None will not have any impact and default name will be used.</td>
    </tr>
    <tr>
      <td>[federation] remote_id_attribute = None</td>
      <td>(StrOpt) Value to be used to obtain the entity ID of the Identity Provider from the environment (e.g. if using the mod_shib plugin this value is `Shib-Identity-Provider`).</td>
    </tr>
    <tr>
      <td>[federation] sso_callback_template = /etc/keystone/sso_callback_template.html</td>
      <td>(StrOpt) Location of Single Sign-On callback handler, will return a token to a trusted dashboard host.</td>
    </tr>
    <tr>
      <td>[federation] trusted_dashboard = []</td>
      <td>(MultiStrOpt) A list of trusted dashboard hosts. Before accepting a Single Sign-On request to return a token, the origin host must be a member of the trusted_dashboard list. This configuration option may be repeated for multiple values. For example: trusted_dashboard=http://acme.com trusted_dashboard=http://beta.com</td>
    </tr>
    <tr>
      <td>[fernet_tokens] key_repository = /etc/keystone/fernet-keys/</td>
      <td>(StrOpt) Directory containing Fernet token keys.</td>
    </tr>
    <tr>
      <td>[fernet_tokens] max_active_keys = 3</td>
      <td>(IntOpt) This controls how many keys are held in rotation by keystone-manage fernet_rotate before they are discarded. The default value of 3 means that keystone will maintain one staged key, one primary key, and one secondary key. Increasing this value means that additional secondary keys will be kept in the rotation.</td>
    </tr>
    <tr>
      <td>[identity] cache_time = 600</td>
      <td>(IntOpt) Time to cache identity data (in seconds). This has no effect unless global and identity caching are enabled.</td>
    </tr>
    <tr>
      <td>[identity] caching = True</td>
      <td>(BoolOpt) Toggle for identity caching. This has no effect unless global caching is enabled.</td>
    </tr>
    <tr>
      <td>[identity] domain_configurations_from_database = False</td>
      <td>(BoolOpt) Extract the domain specific configuration options from the resource backend where they have been stored with the domain data. This feature is disabled by default (in which case the domain specific options will be loaded from files in the domain configuration directory); set to true to enable. This feature is not yet supported.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] allow_insecure_clients = False</td>
      <td>(BoolOpt) Accept clients using either SSL or plain TCP</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] broadcast_prefix = broadcast</td>
      <td>(StrOpt) address prefix used when broadcasting to all servers</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] container_name = None</td>
      <td>(StrOpt) Name for the AMQP container</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] group_request_prefix = unicast</td>
      <td>(StrOpt) address prefix when sending to any server in group</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] idle_timeout = 0</td>
      <td>(IntOpt) Timeout for inactive connections (in seconds)</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] server_request_prefix = exclusive</td>
      <td>(StrOpt) address prefix used when sending to a specific server</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] ssl_ca_file = </td>
      <td>(StrOpt) CA certificate PEM file for verifing server certificate</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] ssl_cert_file = </td>
      <td>(StrOpt) Identifying certificate PEM file to present to clients</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] ssl_key_file = </td>
      <td>(StrOpt) Private key PEM file used to sign cert_file certificate</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] ssl_key_password = None</td>
      <td>(StrOpt) Password for decrypting ssl_key_file (if encrypted)</td>
    </tr>
    <tr>
      <td>[oslo_messaging_amqp] trace = False</td>
      <td>(BoolOpt) Debug: dump AMQP frames to stdout</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] amqp_auto_delete = False</td>
      <td>(BoolOpt) Auto-delete queues in AMQP.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] amqp_durable_queues = False</td>
      <td>(BoolOpt) Use durable queues in AMQP.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_heartbeat = 60</td>
      <td>(IntOpt) Seconds between connection keepalive heartbeats.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_hostname = localhost</td>
      <td>(StrOpt) Qpid broker hostname.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_hosts = $qpid_hostname:$qpid_port</td>
      <td>(ListOpt) Qpid HA cluster host:port pairs.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_password = </td>
      <td>(StrOpt) Password for Qpid connection.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_port = 5672</td>
      <td>(IntOpt) Qpid broker port.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_protocol = tcp</td>
      <td>(StrOpt) Transport to use, either 'tcp' or 'ssl'.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_receiver_capacity = 1</td>
      <td>(IntOpt) The number of prefetched messages held by receiver.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_sasl_mechanisms = </td>
      <td>(StrOpt) Space separated list of SASL mechanisms to use for auth.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_tcp_nodelay = True</td>
      <td>(BoolOpt) Whether to disable the Nagle algorithm.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_topology_version = 1</td>
      <td>(IntOpt) The qpid topology version to use.  Version 1 is what was originally used by impl_qpid.  Version 2 includes some backwards-incompatible changes that allow broker federation to work.  Users should update to version 2 when they are able to take everything down, as it requires a clean break.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] qpid_username = </td>
      <td>(StrOpt) Username for Qpid connection.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_qpid] rpc_conn_pool_size = 30</td>
      <td>(IntOpt) Size of RPC connection pool.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] amqp_auto_delete = False</td>
      <td>(BoolOpt) Auto-delete queues in AMQP.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] amqp_durable_queues = False</td>
      <td>(BoolOpt) Use durable queues in AMQP.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] fake_rabbit = False</td>
      <td>(BoolOpt) Deprecated, use rpc_backend=kombu+memory or rpc_backend=fake</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] kombu_reconnect_delay = 1.0</td>
      <td>(FloatOpt) How long to wait before reconnecting in response to an AMQP consumer cancel notification.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] kombu_ssl_ca_certs = </td>
      <td>(StrOpt) SSL certification authority file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] kombu_ssl_certfile = </td>
      <td>(StrOpt) SSL cert file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] kombu_ssl_keyfile = </td>
      <td>(StrOpt) SSL key file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] kombu_ssl_version = </td>
      <td>(StrOpt) SSL version to use (valid only if SSL enabled). Valid values are TLSv1 and SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be available on some distributions.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_ha_queues = False</td>
      <td>(BoolOpt) Use HA queues in RabbitMQ (x-ha-policy: all). If you change this option, you must wipe the RabbitMQ database.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_host = localhost</td>
      <td>(StrOpt) The RabbitMQ broker address where a single node is used.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_hosts = $rabbit_host:$rabbit_port</td>
      <td>(ListOpt) RabbitMQ HA cluster host:port pairs.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_login_method = AMQPLAIN</td>
      <td>(StrOpt) The RabbitMQ login method.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_max_retries = 0</td>
      <td>(IntOpt) Maximum number of RabbitMQ connection retries. Default is 0 (infinite retry count).</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_password = guest</td>
      <td>(StrOpt) The RabbitMQ password.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_port = 5672</td>
      <td>(IntOpt) The RabbitMQ broker port where a single node is used.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_retry_backoff = 2</td>
      <td>(IntOpt) How long to backoff for between retries when connecting to RabbitMQ.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_retry_interval = 1</td>
      <td>(IntOpt) How frequently to retry connecting with RabbitMQ.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_use_ssl = False</td>
      <td>(BoolOpt) Connect over SSL for RabbitMQ.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_userid = guest</td>
      <td>(StrOpt) The RabbitMQ userid.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rabbit_virtual_host = /</td>
      <td>(StrOpt) The RabbitMQ virtual host.</td>
    </tr>
    <tr>
      <td>[oslo_messaging_rabbit] rpc_conn_pool_size = 30</td>
      <td>(IntOpt) Size of RPC connection pool.</td>
    </tr>
    <tr>
      <td>[resource] cache_time = None</td>
      <td>(IntOpt) TTL (in seconds) to cache resource data. This has no effect unless global caching is enabled.</td>
    </tr>
    <tr>
      <td>[resource] caching = True</td>
      <td>(BoolOpt) Toggle for resource caching. This has no effect unless global caching is enabled.</td>
    </tr>
    <tr>
      <td>[resource] driver = None</td>
      <td>(StrOpt) Resource backend driver. If a resource driver is not specified, the assignment driver will choose the resource driver.</td>
    </tr>
    <tr>
      <td>[resource] list_limit = None</td>
      <td>(IntOpt) Maximum number of entities that will be returned in a resource collection.</td>
    </tr>
    <tr>
      <td>[role] cache_time = None</td>
      <td>(IntOpt) TTL (in seconds) to cache role data. This has no effect unless global caching is enabled.</td>
    </tr>
    <tr>
      <td>[role] caching = True</td>
      <td>(BoolOpt) Toggle for role caching. This has no effect unless global caching is enabled.</td>
    </tr>
    <tr>
      <td>[role] driver = None</td>
      <td>(StrOpt) Role backend driver.</td>
    </tr>
    <tr>
      <td>[role] list_limit = None</td>
      <td>(IntOpt) Maximum number of entities that will be returned in a role collection.</td>
    </tr>
    <tr>
      <td>[token] allow_rescope_scoped_token = True</td>
      <td>(BoolOpt) Allow rescoping of scoped token. Setting allow_rescoped_scoped_token to false prevents a user from exchanging a scoped token for any other token.</td>
    </tr>
    <tr>
      <td>[trust] allow_redelegation = False</td>
      <td>(BoolOpt) Enable redelegation feature.</td>
    </tr>
    <tr>
      <td>[trust] max_redelegation_count = 3</td>
      <td>(IntOpt) Maximum depth of trust redelegation.</td>
    </tr>
  </table>
  <table>
    <caption>New default values</caption>
    <col width="33%"/>
    <col width="33%"/>
    <col width="33%"/>
    <thead>
      <tr>
        <td>选项</td>
        <td>Previous default value</td>
        <td>New default value</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] rpc_zmq_matchmaker</td>
      <td>oslo.messaging._drivers.matchmaker.MatchMakerLocalhost</td>
      <td>oslo_messaging._drivers.matchmaker.MatchMakerLocalhost</td>
    </tr>
    <tr>
      <td>[revoke] driver</td>
      <td>keystone.contrib.revoke.backends.kvs.Revoke</td>
      <td>keystone.contrib.revoke.backends.sql.Revoke</td>
    </tr>
    <tr>
      <td>[token] provider</td>
      <td>无</td>
      <td>keystone.token.providers.uuid.Provider</td>
    </tr>
  </table>
  <table>
    <caption>Deprecated options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Deprecated option</td>
        <td>New Option</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] admin_bind_host</td>
      <td>[eventlet_server] admin_bind_host</td>
    </tr>
    <tr>
      <td>[DEFAULT] admin_workers</td>
      <td>[eventlet_server] admin_workers</td>
    </tr>
    <tr>
      <td>[assignment] list_limit</td>
      <td>[resource] list_limit</td>
    </tr>
    <tr>
      <td>[DEFAULT] admin_port</td>
      <td>[eventlet_server] admin_port</td>
    </tr>
    <tr>
      <td>[assignment] caching</td>
      <td>[resource] caching</td>
    </tr>
    <tr>
      <td>[assignment] cache_time</td>
      <td>[resource] cache_time</td>
    </tr>
    <tr>
      <td>[DEFAULT] tcp_keepidle</td>
      <td>[eventlet_server] tcp_keepidle</td>
    </tr>
    <tr>
      <td>[ssl] cert_required</td>
      <td>[eventlet_server_ssl] cert_required</td>
    </tr>
    <tr>
      <td>[DEFAULT] public_port</td>
      <td>[eventlet_server] public_port</td>
    </tr>
    <tr>
      <td>[DEFAULT] public_bind_host</td>
      <td>[eventlet_server] public_bind_host</td>
    </tr>
    <tr>
      <td>[DEFAULT] tcp_keepalive</td>
      <td>[eventlet_server] tcp_keepalive</td>
    </tr>
    <tr>
      <td>[DEFAULT] public_workers</td>
      <td>[eventlet_server] public_workers</td>
    </tr>
    <tr>
      <td>[ssl] keyfile</td>
      <td>[eventlet_server_ssl] keyfile</td>
    </tr>
    <tr>
      <td>[ssl] ca_certs</td>
      <td>[eventlet_server_ssl] ca_certs</td>
    </tr>
    <tr>
      <td>[ssl] enable</td>
      <td>[eventlet_server_ssl] enable</td>
    </tr>
    <tr>
      <td>[ssl] certfile</td>
      <td>[eventlet_server_ssl] certfile</td>
    </tr>
  </table>
</section>